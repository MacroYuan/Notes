虚拟存储系统的基础是分页分段，在此基础上才有虚拟内存

如果运行得很慢，需要考虑颠簸（thrashing，即操作系统频繁地出现页的换入换出），**在Unix中可以用getrusage函数监测缺页的数量（以及许多其他的信息）**。

![Linux进程的虚拟存储器](..\image\001.jpeg)

内核在系统中为每个进程维护一个单独的任务结构，该任务结构中的元素包含或指向内核运行该进程所需要的所有信息（例如，PID、指向用户栈的指针、可执行目标文件的名字，以及程序计数器）。

![Linux如何组织存储器](..\image\002.jpeg)

- vm_start: 指向这个区域的起始处。
- vm_end: 指向这个区域的结束处。
- vm_port: 描述这个区域内包含的所有页面的读写许可权限。
- vm_flags: 描述这个区域内页面是否与其他进程共享，还是这个进程私有。
- vm_next: 指向链表中下一个区域结构。