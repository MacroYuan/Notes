# Linux服务器一些常用的命令

# 进程管理

> 对于进程的这些命令是在服务器运行程序常用的，对于进程的各种状态和转换可以复习下计算机系统的知识。

## 查看进程

### ps

查看某个时间点的进程信息

eg. 查看自己的进程

```shell
ps -l
```

查看系统所有进程

```shell
ps aux
```

查看特定的进程

```shell
ps aux | grep threadx
```

### pstree

查看进程树

eg. 查看所有进程树

```shell
pstree -A
```

### top

实时显示进程信息

eg. 两秒刷新一次

```shell
top -d 2
```

### netstat

查看占用端口的进程

eg. 查看特定端口的进程

```shell
netstat -anp | grep port
```

### jps

查看在java虚拟机中运行的进程

## 杀死进程

在程序运行过程中，如果产生僵尸进程或孤儿进程，需要手动清除。

僵尸进程用ps命令显示状态为Z(ombie)，僵尸进程会占用资源，这时只需将其父进程杀死，该僵尸进程就会变为孤儿进程，这样就会释放占用的资源。

### kill

杀死进程

eg. 强制杀死特定进程

```shell
kill -9 进程号
```



# 日志查看

> 程序运行过程中会产生各种日志，如何有效地查看这些日志对于排查问题很重要。

## 查看日志

### tail

从文件尾部截取数据，也是最常用的命令

eg. 持续获取最新数据

```shell
tail -f 文件名
```

查看最后5行数据

```shell
tail -n 5 文件名
```

### cat

查看整个文件的内容，一般文件较大不建议使用

eg. 查看文件内容并展示行号

```shell
cat -n 文件名
```

### head

从文件头部显示内容

eg. 查看前10行

```shell
head -n 10 文件名
```

### less

翻页查看文件



### grep

在日志中如果需要查询特定内容，一般用grep命令进行正则式匹配，也可直接用grep查询

eg. 查看error信息并分页打印

```shell
cat -n 文件名 | grep "error" | less
```

查看某个时间的日志及前后5行

```shell
grep -n 5 '2022-01-06 20:00:00' 文件名
```



# 文件与权限

## 文件

### mkdir

创建目录

### rmdir

删除目录，目录必须为空

### touch

更新文件或者建立新文件

### cp

复制文件。

### rm

删除文件

### mv

移动文件

## 权限

### chmod

在chmod命令中可以用数字，也可以用rwx

eg. 使文件所有人可读可更改

```she
chmod 777 文件名
```

