# DDD

https://juejin.cn/post/6950188217526124558#heading-2

## 1. 简介

DDD是一个架构思想而不是一个框架。

* DDD(Domain-Driven Design，邻域驱动设计)
  * 领域驱动设计一般分为两个阶段：

      1. 以一种领域专家、设计人员、开发人员都能理解的“通用语言”作为相互交流的工具，在不断交流的过程中发现与挖掘出一些主要的邻域概念，然后将这些概念设计成一个领域模型；
      2. 由邻域模型驱动软件设计，用代码来表现该邻域模型。邻域需求的最初细节，在功能层面通过邻域专家的讨论得出。

* 

## 2. 基本概念

https://www.cnblogs.com/firstdream/p/8669611.html

### 2.1 实体(entity)

### 2.2 值对象(value object)

### 2.3 聚合及聚合根(aggregate, aggregate root)

### 2.4 工厂(factories)

### 2.5 仓储(repositories)

### 2.6 服务(services)

### 2.7 domain事件

### 2.8 DTO

## 3. 设计领域模型一般步骤

1. 根据需求建立一个初步的领域模型，识别出一些明显的领域概念以及它们的关联，关联可以暂时没有方向但需要有（1：1，1：n，m：n）这些关系；可以用文字精确的没有歧义的描述出每个领域概念的涵义以及包含的主要信息；
2. 分析主要的软件[应用程序](http://www.makaidong.com/search.jspx?q=应用程序)功能，识别出主要的应用层的类；这样有助于及早发现哪些是应用层的职责，哪些是领域层的职责；
3. 进一步分析领域模型，识别出哪些是实体，哪些是值对象，哪些是领域服务；
4.  分析关联，通过对业务的更深入分析以及各种[软件设计](http://www.makaidong.com/search.jspx?q=软件设计)原则及性能方面的权衡，明确关联的方向或者去掉一些不需要的关联；
5.  找出聚合边界及聚合根，这是一件很有难度的事情；因为你在分析的过程中往往会碰到很多模棱两可的难以清晰判断的选择问题，所以，需要我们平时一些分析经验的积累才能找出正确的聚合根；
6.  为聚合根配备仓储，一般情况下是为一个聚合分配一个仓储，此时只要设计好仓储的接口即可；
7.  走查场景，确定我们设计的领域模型能够有效地解决[业务需求](http://www.makaidong.com/search.jspx?q=业务需求)；
8.  考虑如何创建领域实体或值对象，是通过工厂还是直接通过构造函数；
9.  停下来重构模型。寻找模型中觉得有些疑问或者是蹩脚的地方，比如思考一些对象应该通过关联导航得到还是应该从仓储获取？聚合设计的是否正确？考虑模型的性能怎样，等等；



