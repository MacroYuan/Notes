头文件`header file`是C语言的概念，头文件是扩展名为`.h`的文件，包含了C函数声明和定义，被多个源文件引用共享。

在程序中要使用头文件，需要使用C预处理指令`#include`来引用，有点像Java和Python中的import。

引用头文件相当于复制头文件的内容，但直接在源文件中复制头文件内容容易出错。

在C/C++程序中，建议把所有的常量、宏、系统全局变量和函数原型写在头文件里，在需要的的时候随时引用这些头文件。

为什么需要头文件？

- 如果在`header file`中实现一个函数体，那么如果在多个`implementation file`中引用它，而且又同时编译多个`implementation file`，将其生成的object file连接成一个可执行文件，在每个引用此头文件的实现文件所生成的`object file`中，都有一份这个函数的代码，如果这段函数又没有定义局部函数，那么在连接时，就会发现多个相同的函数，报错。
- 去除重复工作，统一宏的设置
- 头文件可以对函数实现进行封装，屏蔽其具体实现



`#include`预处理完就是一个**复制并插入代码**的工作，将头文件的全部内容复制到包含该头文件的include引用处。程序编译时并不会去找头文件的具体实现文件，只有在link时才进行其他文件使用`#include "a.h"`，在link的时候需要在makefile里面说明需要连接哪个`obj`文件（在鸿蒙中使用gn去实现），连接器会去`.obj`文件中找在`a.cpp`中实现的函数，再把他们build到makefile中指定的执行文件中。

Clion会自动帮忙写好makefile，(๑•̀ㅂ•́)و✧



## 全局变量

全局变量要使用`extern`关键字修饰，在头文件中只能被声明。

如何使用：

1. 在`test1.h`中声明`extern int a;`
2. 在`test1.cpp`中定义`int a = 10;`（或者使用`int a;`定义，这样的话值是默认值0）
3. 在`test2.cpp`中定义`#include "test1.h"`，这样便可以在`test2.cpp`中直接使用a变量了。